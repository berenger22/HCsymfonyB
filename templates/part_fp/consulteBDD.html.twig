{% extends 'base.html.twig' %}
{% block title %}Liste des utilisateurs
{% endblock %}
{% block body %}
	<table class="table table-hover">
		<thead>
			<tr>
				<th scope="col">Id</th>
				<th scope="col">Lastname</th>
				<th scope="col">Firstname</th>
				<th scope="col">Username</th>
				<th scope="col">Email</th>
				<th scope="col">RÃ´le</th>
				<th scope="col">Modifier</th>
			</tr>
		</thead>
		<tbody>
			{% for utilisateur in utilisateurs %}
				<tr class="table-primary">
					<th scope="row">{{utilisateur.id}}</th>
					<td>{{utilisateur.lastname}}</td>
					<td>{{utilisateur.firstname}}</td>
					<td>{{utilisateur.username}}</td>
					<td>{{utilisateur.email}}</td>
					<td>{{utilisateur.roles|join}}</td>
					{% if utilisateur.roles|join == 'ROLE_USER' %}
						<td>
							<a href="{{path('app_editJ', {'id' : utilisateur.id})}}" class="btn btn-secondary">Modifier profil</a>
						</td>
					{% elseif utilisateur.roles|join == 'ROLE_ADMIN'%}
						<td>
							<a href="{{path('app_editP', {'id' : utilisateur.id})}}" class="btn btn-secondary">Modifier profil</a>
						</td>
					{% else %}
						<td></td>
					{% endif %}
				</tr>
			{% endfor %}
		</tbody>
	</table>
	<table class="table table-hover">
		<thead>
			<tr>
				<th scope="col">Id</th>
				<th scope="col">Intitule</th>
				<th scope="col">Visible</th>
				<th scope="col">Professeur</th>
				<th scope="col">Voir</th>
			</tr>
		</thead>
		<tbody>
			{% for question in questions %}
				<tr class="table-primary">
					<th scope="row">{{question.id}}</th>
					<td>{{question.intitule}}</td>
					<td>{{question.visible}}</td>
					<td>{{question.professeur.firstname}}</td>
					<td>
						<a href="{{path('chemin', {'id' : question.id})}}" class="btn btn-secondary">Detail</a>
					</td>
				</tr>
			{% endfor %}
		</tbody>
	</table>
	<a href="{{path('chemin')}}" class="btn btn-warning m">Retour</a>
{% endblock %}
